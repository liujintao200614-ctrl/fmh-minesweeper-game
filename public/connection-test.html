<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¯ FMH æ‰«é›·æ¸¸æˆ - è¿æ¥æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            max-width: 800px;
            width: 100%;
        }
        .status { 
            background: #4CAF50; 
            color: white; 
            padding: 20px; 
            border-radius: 10px; 
            margin: 20px 0; 
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        .info { 
            background: #f0f0f0; 
            padding: 20px; 
            border-radius: 10px; 
            margin: 20px 0; 
            text-align: left; 
        }
        .btn { 
            background: #4CAF50; 
            color: white; 
            border: none; 
            padding: 15px 30px; 
            border-radius: 8px; 
            cursor: pointer; 
            margin: 10px;
            transition: all 0.2s ease;
        }
        .btn:hover {
            background: #45a049;
            transform: translateY(-2px);
        }
        .network-info { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
            gap: 15px; 
        }
        .network-item { 
            background: #e3f2fd; 
            padding: 15px; 
            border-radius: 8px; 
            transition: transform 0.2s ease;
        }
        .network-item:hover {
            transform: scale(1.02);
        }
        .success { background: #d4edda; border: 1px solid #c3e6cb; color: #155724; }
        .warning { background: #fff3cd; border: 1px solid #ffeaa7; color: #856404; }
        .error { background: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; }
        .progress {
            width: 100%;
            height: 20px;
            background-color: #f0f0f0;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50 0%, #45a049 100%);
            width: 0%;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ FMH Minesweeper - é™æ€è¿æ¥æµ‹è¯•</h1>
        
        <div class="status">
            âœ… é™æ€æ–‡ä»¶è®¿é—®æˆåŠŸï¼
        </div>
        
        <div class="info">
            <h3>ğŸ“‹ è¿æ¥çŠ¶æ€æ£€æŸ¥ï¼š</h3>
            <div id="connection-status">æ­£åœ¨æ£€æŸ¥è¿æ¥çŠ¶æ€...</div>
            <div class="progress">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
        </div>
        
        <div class="network-info">
            <div class="network-item">
                <strong>ğŸŒ å½“å‰é¡µé¢ï¼š</strong><br>
                <span id="current-url">åŠ è½½ä¸­...</span>
            </div>
            <div class="network-item">
                <strong>â° æœ¬åœ°æ—¶é—´ï¼š</strong><br>
                <span id="local-time">åŠ è½½ä¸­...</span>
            </div>
            <div class="network-item">
                <strong>ğŸ”§ æµè§ˆå™¨ä¿¡æ¯ï¼š</strong><br>
                <span id="browser-info">æ£€æµ‹ä¸­...</span>
            </div>
            <div class="network-item">
                <strong>ğŸ–¥ï¸ å±å¹•åˆ†è¾¨ç‡ï¼š</strong><br>
                <span id="screen-info">è·å–ä¸­...</span>
            </div>
        </div>
        
        <div style="margin: 30px 0;">
            <h3>ğŸ® FMH æ‰«é›·æ¸¸æˆå¯åŠ¨é€‰é¡¹ï¼š</h3>
            <button class="btn" onclick="openGame()">ğŸ¯ æ‰“å¼€æ¸¸æˆ (æ¨è)</button>
            <button class="btn" onclick="testPorts()">ğŸ”§ ç«¯å£æµ‹è¯•</button>
            <button class="btn" onclick="window.location.reload()">ğŸ”„ åˆ·æ–°æµ‹è¯•</button>
        </div>
        
        <div id="test-results" style="margin-top: 20px;"></div>
        
        <div class="info warning">
            <h4>ğŸ“‹ è§£å†³æ–¹æ¡ˆæŒ‡å—:</h4>
            <ul style="text-align: left;">
                <li><strong>âœ… çœ‹åˆ°æ­¤é¡µé¢:</strong> é™æ€æ–‡ä»¶æœåŠ¡æ­£å¸¸</li>
                <li><strong>ğŸš€ å¯åŠ¨æ¸¸æˆ:</strong> ç‚¹å‡»ä¸Šæ–¹ "æ‰“å¼€æ¸¸æˆ" æŒ‰é’®</li>
                <li><strong>ğŸ”§ ç«¯å£é—®é¢˜:</strong> ç‚¹å‡» "ç«¯å£æµ‹è¯•" æ£€æŸ¥å¯ç”¨ç«¯å£</li>
                <li><strong>ğŸŒ ç½‘ç»œé—®é¢˜:</strong> å°è¯•ä¸åŒæµè§ˆå™¨æˆ–é‡å¯ç½‘ç»œ</li>
                <li><strong>ğŸ”’ å®‰å…¨è½¯ä»¶:</strong> æ£€æŸ¥é˜²ç«å¢™å’Œå®‰å…¨è½¯ä»¶è®¾ç½®</li>
            </ul>
        </div>
    </div>
    
    <script>
        console.log('ğŸ¯ FMH æ‰«é›·æ¸¸æˆè¿æ¥æµ‹è¯•é¡µé¢å¯åŠ¨');
        
        // æ›´æ–°é¡µé¢ä¿¡æ¯
        function updateInfo() {
            document.getElementById('current-url').textContent = window.location.href;
            document.getElementById('local-time').textContent = new Date().toLocaleString('zh-CN');
            document.getElementById('browser-info').textContent = getBrowserInfo();
            document.getElementById('screen-info').textContent = screen.width + 'x' + screen.height;
        }
        
        function getBrowserInfo() {
            const ua = navigator.userAgent;
            if (ua.includes('Chrome')) return 'Chrome';
            if (ua.includes('Firefox')) return 'Firefox';
            if (ua.includes('Safari') && !ua.includes('Chrome')) return 'Safari';
            if (ua.includes('Edge')) return 'Edge';
            return 'å…¶ä»–æµè§ˆå™¨';
        }
        
        // è¿æ¥æµ‹è¯•è¿›åº¦
        function runConnectionTest() {
            const statusEl = document.getElementById('connection-status');
            const progressBar = document.getElementById('progress-bar');
            let progress = 0;
            
            const steps = [
                { text: 'ğŸ” æ£€æµ‹é¡µé¢åŠ è½½çŠ¶æ€...', delay: 500 },
                { text: 'ğŸŒ éªŒè¯æµè§ˆå™¨å…¼å®¹æ€§...', delay: 800 },
                { text: 'ğŸ’» è·å–ç³»ç»Ÿä¿¡æ¯...', delay: 600 },
                { text: 'âœ… è¿æ¥æµ‹è¯•å®Œæˆï¼', delay: 300 }
            ];
            
            function runStep(index) {
                if (index < steps.length) {
                    statusEl.innerHTML = '<div class="' + (index === steps.length - 1 ? 'success' : 'info') + '" style="padding: 15px; border-radius: 8px;">' + steps[index].text + '</div>';
                    progress = ((index + 1) / steps.length) * 100;
                    progressBar.style.width = progress + '%';
                    
                    setTimeout(() => runStep(index + 1), steps[index].delay);
                }
            }
            
            runStep(0);
        }
        
        // ç«¯å£æµ‹è¯•åŠŸèƒ½
        function testPorts() {
            const resultsEl = document.getElementById('test-results');
            resultsEl.innerHTML = '<div class="info" style="padding: 15px; border-radius: 8px;">ğŸ”§ æ­£åœ¨æµ‹è¯•å¸¸ç”¨ç«¯å£...</div>';
            
            const ports = [3000, 3001, 5173, 8080, 8888, 3333];
            let testResults = '<div class="info" style="padding: 15px; border-radius: 8px;"><h4>ç«¯å£æµ‹è¯•ç»“æœï¼š</h4><ul>';
            
            ports.forEach(port => {
                // æ¨¡æ‹Ÿç«¯å£æµ‹è¯•ï¼ˆå®é™…ä¸­éœ€è¦æœåŠ¡å™¨é…åˆï¼‰
                testResults += '<li><strong>ç«¯å£ ' + port + ':</strong> <span style="color: #856404;">éœ€è¦æœåŠ¡å™¨è¿è¡Œæ‰èƒ½æµ‹è¯•</span></li>';
            });
            
            testResults += '</ul><p><strong>å»ºè®®:</strong> å°è¯•å¯åŠ¨ Vite å¼€å‘æœåŠ¡å™¨ï¼š <code>npm run dev</code></p></div>';
            resultsEl.innerHTML = testResults;
        }
        
        // å¯åŠ¨æ¸¸æˆåŠŸèƒ½
        function openGame() {
            const resultsEl = document.getElementById('test-results');
            resultsEl.innerHTML = '<div class="warning" style="padding: 15px; border-radius: 8px; text-align: left;"><h4>ğŸ® FMH æ‰«é›·æ¸¸æˆå¯åŠ¨æŒ‡å—:</h4><ol><li><strong>æ–¹å¼ä¸€:</strong> å¼€å‘æœåŠ¡å™¨<br><code>npm run dev</code> ç„¶åè®¿é—® <a href="http://localhost:5173" target="_blank">http://localhost:5173</a></li><li><strong>æ–¹å¼äºŒ:</strong> Next.js æœåŠ¡å™¨<br><code>npm run dev:next</code> ç„¶åè®¿é—® <a href="http://localhost:3000" target="_blank">http://localhost:3000</a></li><li><strong>æ–¹å¼ä¸‰:</strong> ç›´æ¥æ–‡ä»¶<br>åœ¨é¡¹ç›®ç›®å½•ä¸­æ‰¾åˆ° <code>index.html</code> æ–‡ä»¶ï¼ŒåŒå‡»ç”¨æµè§ˆå™¨æ‰“å¼€</li></ol><p><strong>æ³¨æ„:</strong> æ¨èä½¿ç”¨æ–¹å¼ä¸€çš„ Vite å¼€å‘æœåŠ¡å™¨ï¼Œæ”¯æŒçƒ­é‡è½½å’Œå®Œæ•´åŠŸèƒ½ã€‚</p></div>';
            
            // å°è¯•è‡ªåŠ¨æ‰“å¼€å‡ ä¸ªå¯èƒ½çš„åœ°å€
            setTimeout(() => {
                const urls = ['http://localhost:5173', 'http://localhost:3000', 'http://localhost:3001'];
                urls.forEach((url, index) => {
                    setTimeout(() => {
                        console.log('å°è¯•æ‰“å¼€:', url);
                        // window.open(url, '_blank'); // å–æ¶ˆè‡ªåŠ¨æ‰“å¼€ï¼Œé¿å…å¼¹çª—æ‹¦æˆª
                    }, index * 1000);
                });
            }, 1000);
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        window.addEventListener('load', () => {
            updateInfo();
            runConnectionTest();
            
            // å®šæ—¶æ›´æ–°æ—¶é—´
            setInterval(() => {
                document.getElementById('local-time').textContent = new Date().toLocaleString('zh-CN');
            }, 1000);
        });
        
        console.log('ğŸ¯ è¿æ¥æµ‹è¯•é¡µé¢åˆå§‹åŒ–å®Œæˆ');
        console.log('ğŸ“ å½“å‰åœ°å€:', window.location.href);
        console.log('ğŸ”§ ç”¨æˆ·ä»£ç†:', navigator.userAgent);
    </script>
</body>
</html>